{% extends 'base.html' %}
{% block content %}
<div class="user-profile-container" style="max-width: 900px; margin: 40px auto; background: #232323; border-radius: 18px; box-shadow: 0 8px 32px rgb(0 0 0 / 69%); padding: 2.5rem 2.5rem 2rem 2.5rem; color: #e7e6e6;">
    <h2 style="color:#667eea;">Update Profile</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flashes">
        {% for category, message in messages %}
          <li class="flash {{ category }}">{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <form method="POST" class="profile-form">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" value="{{ user.name or '' }}" required>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="{{ user.email }}" required>
        </div>
        <hr style="border-color: #ffffff;">
        <h3 style="color:#667eea;">Change Password</h3>
        <div class="form-group">
            <label for="current_password">Current Password</label>
            <input type="password" id="current_password" name="current_password" autocomplete="current-password">
        </div>
        <div class="form-group">
            <label for="new_password">New Password</label>
            <input type="password" id="new_password" name="new_password" autocomplete="new-password">
        </div>
        <div class="form-group">
            <label for="confirm_password">Confirm New Password</label>
            <input type="password" id="confirm_password" name="confirm_password" autocomplete="new-password">
        </div>
        <button type="submit" class="update-btn">Update Profile</button>
        <a href="/user" class="cancel-btn">Cancel</a>
    </form>
</div>
<style>
.flashes { list-style: none; padding: 0; }
.flash { padding: 0.5em 1em; margin-bottom: 0.5em; border-radius: 4px; }
.flash.success { background: #d4edda; color: #155724; }
.flash.error { background: #f8d7da; color: #721c24; }
.profile-form .form-group { margin-bottom: 1.2em; }
.profile-form label { display: block; margin-bottom: 0.3em; font-weight: 600; color: #e7e6e6; }
.profile-form input { width: 100%; padding: 0.5em; border: 1px solid #444; border-radius: 5px; background: rgba(255,255,255,0.07); color: #e7e6e6; }
.profile-form input::placeholder { color: #aaa; }
.update-btn { padding: 0.7em 1.5em; background: #6a5acd; color: #fff; border: none; border-radius: 25px;font-size: 15px; cursor: pointer; margin-right: 0.5em; }
.cancel-btn{ padding: 0.6em 1.5em; background: #ff4136; color: #fff; border: none; border-radius: 25px;font-size: 15px; cursor: pointer; margin-right: 0.5em;text-decoration: none; }
.update-btn:hover { background: #483d8b; }
.cancel-btn:hover { background: #c0392b; }
</style>
{% endblock %} 